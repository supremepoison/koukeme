<!-- pages/community/community.wxml -->
<view class="container">
  <!-- åŠ¨æ€èƒŒæ™¯ -->
  <view class="bg-pattern"></view>

  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <text class="header-title">åŒ¿åæ ‘æ´</text>
    <button class="btn-post" bindtap="newPost">âœ¨ å‘å¿ƒæƒ…</button>
  </view>

  <!-- å¸–å­åˆ—è¡¨ -->
  <scroll-view class="feed" scroll-y>
    <view class="post-card" wx:for="{{posts}}" wx:key="id">
      <!-- å¸–å­å¤´éƒ¨ -->
      <view class="post-header">
        <view class="post-user">
          <view class="user-avatar">{{item.avatar}}</view>
          <view class="user-info">
            <text class="user-name">{{item.name}}</text>
            <text class="user-badge">ç¬¬{{item.days}}å¤©</text>
          </view>
        </view>
        <text class="post-time">{{item.time}}</text>
      </view>

      <!-- å¸–å­å†…å®¹ -->
      <text class="post-content">{{item.content}}</text>

      <!-- å¸–å­æ“ä½œ -->
      <view class="post-actions">
        <view class="action-btn {{item.liked ? 'active' : ''}}" bindtap="toggleLight" data-index="{{index}}">
          <text class="action-icon">âœ¨</text>
          <text>{{item.likes}}</text>
        </view>
        <view class="action-btn">
          <text class="action-icon">ğŸ’¬</text>
          <text>{{item.comments}}</text>
        </view>
        <view class="action-btn">
          <text class="action-icon">â¤ï¸</text>
          <text>{{item.hearts}}</text>
        </view>
      </view>
    </view>

    <view class="load-more" wx:if="{{hasMore}}">
      <text>ç»§ç»­åŠ è½½...</text>
    </view>
  </scroll-view>
</view>
